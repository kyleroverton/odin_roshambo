<html>
<script>   




function computerPlay(){
    let compChoice;
    rando = Math.floor(Math.random()*3);
    if (rando===0){
        compChoice = 'rock';
    }
    else if(rando ===1){
        compChoice ="paper";
    }
    else {
        compChoice ="scissors"
    }
    return compChoice;
}

function roshambo(computerSelection, playerSelection){
    let playerWin =0;
    let result;
   
    player = selectionConvert(playerSelection);
    computer = selectionConvert(computerSelection);
   
    result = player + computer;

    if (result == 2 || result == 4 || result == 8){
        game = "Draw!, you both chose "+playerSelection+"!";
        
    }
    else if (result == 3 && player == 2){
        game =" Player wins Paper beats Rock!";
        playerWin = 1;
    }
    else if (result ==3){
        game ="Computer wins Paper beats Rock!";
    }
    else if (result == 5 && player == 1){
        game = "Player wins Rock beats Scissors!";
        playerWin = 1;
    }
    else if (result ==5){
        game = "Computer wins Rock beats Scissors!";
    }
    else if (result == 6 && player == 4){
        game = "Player wins Scissors beats Paper!";
        playerWin = 1;
    }
    else if (result == 6){
        game = "Computer wins Scissors beats Paper!";
    }
    else{
        game ="Something went horribly wrong!";
    }
    gameArray = [game,playerWin];
    return gameArray;
  
}

function selectionConvert(selection){
      
    let convertSelection;

    if (selection == "rock"){
        convertSelection = 1;
    }
    else if(selection == "paper"){
        convertSelection = 2;
    }
    else {
        convertSelection = 4;
    }
   
    return convertSelection;
}

function playerInput (){
    while(true){
        let playerChoice  = prompt("Enter your choice").toLowerCase();
        switch (playerChoice) {
            case "rock":
                return playerChoice;
                
            case "paper":
                return playerChoice;
                
            case "scissors":
                return playerChoice;

            default: alert("You must choose rock, paper, or scissors!")
        }
    }
}

function game(){
    let gameArray;
    let winner = 0;
    let playerCount = 0;
    let gamesWon = 0;
    

    for (i = 1; i<6; i++){
        computerSelection = computerPlay();
                
        playerSelection = playerInput();
      
        gameArray = roshambo(computerSelection, playerSelection)
        playerCount = gameArray[1];
        gamesWon = gamesWon + playerCount;
        console.log(gameArray[0]);
        console.log("game win count "+gamesWon);
        console.log("game counter "+i);
    }
    if(gamesWon>2){
        console.log("You won "+gamesWon+" to "+(5-gamesWon));
    }
    else {
        console.log("You lost "+(5-gamesWon)+" to "+gamesWon);
    }
   
}


console.log(game());

</script>

</html>